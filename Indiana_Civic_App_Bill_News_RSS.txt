### Bill News RSS Integration (HoosierCiv)

1. Overview
- Each bill tracked in the app includes an auto-generated RSS-style news feed.
- Feed aggregates Indiana-focused reporting, legislative updates, editorials, and press releases.

2. Feed Sources
- Google News RSS queries filtered by bill number and keywords.
- Indiana local news publishers providing RSS.
- Statehouse press releases.
- Committee movement updates pulled from legislative tracking APIs (OpenStates).

3. User Experience
- Bill Detail Screen includes a "Latest News About This Bill" section.
- Headlines show as a scrollable list with short descriptions.
- Tapping an article opens an in-app reader (summary view) or external browser.

4. Gamification
- +5 XP for tapping an article headline (awarded once per article per user).
- +10 XP for reading the full in-app summary to completion (separate from the tap XP;
  awarded once per article per user).
- Bill Quiz: +15 XP (see Section 5 below).
- Badge: "Informed Advocate" — awarded after completing a Bill Quiz following a news read.
- Indy the Cardinal gives news tips and quiz encouragement.

5. Bill Quiz — Auto-Generated by Claude API
- Each quiz is generated automatically by a Supabase Edge Function triggered when a new
  bill row is inserted into the database.
- The Edge Function calls the Anthropic Claude API (Haiku model, ~$0.01/bill) with the
  bill's title, summary, and latest news headlines as context.
- Quiz format: 3 multiple-choice questions, one correct answer each.
- No human review is required before the quiz is shown to users.
- Quiz responses are stored in Supabase for analytics only (not re-evaluated).
- "Informed Advocate" badge is registered in BadgeModel and awarded upon quiz completion
  after the user has tapped at least one associated news article.

6. Call Mission Integration
- Before calling, users see "What's New Since Yesterday?" summarizing:
  - Committee movement
  - New endorsements or opposition
  - Amendments
  - Major news coverage
- This summary is generated from the most recent RSS items cached in Supabase.

7. Notifications
- Users can subscribe to "Bill Watch Alerts."
- Push alerts triggered via Firebase Cloud Messaging (FCM) on:
  - New articles added to a watched bill's feed
  - Bill movement (committee vote, floor vote, governor signature)
  - Significant statements from sponsors or opposing groups

8. Technical Notes
- Backend aggregator (Supabase Edge Function) fetches, filters, deduplicates, and
  timestamps articles on a scheduled interval.
- Cached results served to the app via Supabase REST for performance.
- Local offline cache via hive package stores recent articles for offline viewing.
- Each bill has its own feed endpoint for clean UI integration.
- XP events for article taps and reads are deduplicated server-side (one XP grant
  per user per article per action type).
